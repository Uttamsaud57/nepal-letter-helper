<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nepal Letter Helper - PWA</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Professional Nepal government letter writing tool with 80+ letter formats. Create official letters offline!">
    <meta name="keywords" content="Nepal, letter, government, ‡§∏‡§∞‡§ï‡§æ‡§∞‡•Ä ‡§™‡§§‡•ç‡§∞, ‡§®‡§ø‡§µ‡•á‡§¶‡§®, ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∏, offline, PWA">
    <meta name="author" content="Nepal Letter Helper">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- PWA Theme Colors -->
    <meta name="theme-color" content="#0066cc">
    <meta name="msapplication-TileColor" content="#0066cc">
    <meta name="msapplication-navbutton-color" content="#0066cc">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- PWA Display -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="Nepal Letters">
    
    <!-- PWA Icons -->
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png">
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="script.js" as="script">
    
    <!-- Google Fonts for Nepali Typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kalimati:wght@400;700&family=Noto+Sans+Devanagari:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <div class="logo-icon">NP</div>
            <div class="logo-text">
                <h1 data-translate="Nepal Letter Helper">Nepal Letter Helper</h1>
                <p data-translate="Digital Document Solutions">Digital Document Solutions</p>
            </div>
        </div>
        
        <div class="header-buttons">
            <button id="langToggle" class="btn">‡§®‡•á‡§™‡§æ‡§≤‡•Ä</button>
            <button id="darkToggle" class="btn">üåô</button>
        </div>
    </header>

    <!-- Global Search Bar -->
    <div class="search-section">
        <div class="search-container">
            <input type="text" id="globalSearch" class="search-input" placeholder="Search letters... / ‡§™‡§§‡•ç‡§∞ ‡§ñ‡•ã‡§ú‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç..." data-translate-placeholder="Search letters... / ‡§™‡§§‡•ç‡§∞ ‡§ñ‡•ã‡§ú‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç...">
            <button class="search-btn" onclick="app.performSearch()">üîç</button>
        </div>
        <div id="searchResults" class="search-results"></div>
    </div>

    <!-- 3-Step Process Guide -->
    <div class="process-guide">
        <h2 data-translate="How to Create Your Letter">How to Create Your Letter</h2>
        <div class="steps-container">
            <div class="step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <h3 data-translate="Select Letter Type">Select Letter Type</h3>
                    <p data-translate="Choose from 16+ government letter formats">Choose from 16+ government letter formats</p>
                </div>
            </div>
            <div class="step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <h3 data-translate="Fill Required Details">Fill Required Details</h3>
                    <p data-translate="Enter your information in bilingual forms">Enter your information in bilingual forms</p>
                </div>
            </div>
            <div class="step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <h3 data-translate="Preview & Download">Preview & Download</h3>
                    <p data-translate="Review and download in government format">Review and download in government format</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Warning -->
    <div class="warning">
        <h2 data-translate="IMPORTANT DISCLAIMER">IMPORTANT DISCLAIMER</h2>
        <p data-translate="This is an independent digital assistance platform. We are NOT affiliated with the Government of Nepal. This tool helps prepare letters and resources only. Final verification and submission must be done on official government websites.">
            This is an independent digital assistance platform. We are NOT affiliated with the Government of Nepal. This tool helps prepare letters and resources only. Final verification and submission must be done on official government websites.
        </p>
    </div>

    <!-- Main Content -->
    <main>
        <h1 data-translate="What do you need help with today?">What do you need help with today?</h1>
        <p data-translate="Professional letter writing and government form preparation made simple">Professional letter writing and government form preparation made simple</p>

        <!-- Letters Section -->
        <div class="section">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                <div>
                    <h2 data-translate="Nepal Letter Writing System">Nepal Letter Writing System</h2>
                    <p data-translate="Create official letters following Nepal government format with professional templates">Create official letters following Nepal government format with professional templates</p>
                </div>
                <button onclick="app.showAllLetterCategories()" class="btn btn-primary" style="white-space: nowrap;">
                    üìã Browse All 80+ Letters
                </button>
            </div>
            
            <div class="grid">
                <!-- Government Letters -->
                <div>
                    <h3 data-translate="Government Letters">Government Letters</h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 15px;">Official letters to government offices</p>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="nibedan_patra">
                                <div class="letter-header">
                                    <span class="letter-title">‡§®‡§ø‡§µ‡•á‡§¶‡§® ‡§™‡§§‡•ç‡§∞ (Application Letter)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">General application to government office</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="anurodh_patra">
                                <div class="letter-header">
                                    <span class="letter-title">‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§™‡§§‡•ç‡§∞ (Request Letter)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Formal request to authorities</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="sifarish_patra">
                                <div class="letter-header">
                                    <span class="letter-title">‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∏ ‡§™‡§§‡•ç‡§∞ (Recommendation Letter)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Request for official recommendation</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="gunaso_patra">
                                <div class="letter-header">
                                    <span class="letter-title">‡§ó‡•Å‡§®‡§æ‡§∏‡•ã ‡§™‡§§‡•ç‡§∞ (Complaint Letter)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Official complaint letter</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="ujuri_patra">
                                <div class="letter-header">
                                    <span class="letter-title">‡§â‡§ú‡•Å‡§∞‡•Ä ‡§™‡§§‡•ç‡§∞ (Formal Complaint Letter)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Formal complaint to higher authorities</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="suchana_patra">
                                <div class="letter-header">
                                    <span class="letter-title">‡§∏‡•Ç‡§ö‡§®‡§æ ‡§™‡§§‡•ç‡§∞ (Notice Letter)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Official notice or information letter</div>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Local Government Letters -->
                <div>
                    <h3 data-translate="Local Government Letters">Local Government Letters</h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 15px;">Ward office and municipality letters</p>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="nagarikta_sifarish">
                                <div class="letter-header">
                                    <span class="letter-title">‡§®‡§æ‡§ó‡§∞‡§ø‡§ï‡§§‡§æ ‡§∏‡§ø‡§´‡§æ‡§∞‡§ø‡§∏ ‡§™‡§§‡•ç‡§∞ (Citizenship Recommendation)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Citizenship recommendation from ward office</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="basaibas_praman">
                                <div class="letter-header">
                                    <span class="letter-title">‡§¨‡§∏‡•ã‡§¨‡§æ‡§∏ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞ (Residence Certificate)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Proof of residence certificate</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="aaya_praman">
                                <div class="letter-header">
                                    <span class="letter-title">‡§Ü‡§Ø ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞ (Income Certificate)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Income certificate from local government</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="janma_darta">
                                <div class="letter-header">
                                    <span class="letter-title">‡§ú‡§®‡•ç‡§Æ ‡§¶‡§∞‡•ç‡§§‡§æ ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Birth Registration)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Birth registration application</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="nata_praman">
                                <div class="letter-header">
                                    <span class="letter-title">‡§®‡§æ‡§§‡§æ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞ (Relationship Certificate)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Family relationship certificate</div>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Education Letters -->
                <div>
                    <h3 data-translate="Education Letters">Education Letters</h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 15px;">School, college and academic letters</p>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="bida_nibedan_school">
                                <div class="letter-header">
                                    <span class="letter-title">‡§¨‡§ø‡§¶‡§æ ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Leave Application)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">School/College leave application</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="pravesh_avedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§™‡•ç‡§∞‡§µ‡•á‡§∂ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡§§‡•ç‡§∞ (Admission Application)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">School/College admission application</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="chhatrabritti_avedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§õ‡§æ‡§§‡•ç‡§∞‡§µ‡•É‡§§‡•ç‡§§‡§ø ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡§§‡•ç‡§∞ (Scholarship Application)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Scholarship application letter</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="charitrik_praman">
                                <div class="letter-header">
                                    <span class="letter-title">‡§ö‡§æ‡§∞‡§ø‡§§‡•ç‡§∞‡§ø‡§ï ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞ (Character Certificate)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Character certificate request</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="transfer_praman">
                                <div class="letter-header">
                                    <span class="letter-title">‡§ü‡•ç‡§∞‡§æ‡§®‡•ç‡§∏‡§´‡§∞ ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£‡§™‡§§‡•ç‡§∞ (Transfer Certificate)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Transfer certificate request</div>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Employment Letters -->
                <div>
                    <h3 data-translate="Employment Letters">Employment Letters</h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 15px;">Job and workplace letters</p>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="rojgar_avedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§∞‡•ã‡§ú‡§ó‡§æ‡§∞ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡§§‡•ç‡§∞ (Job Application)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Job application letter</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="bida_nibedan_office">
                                <div class="letter-header">
                                    <span class="letter-title">‡§¨‡§ø‡§¶‡§æ ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Leave Application - Work)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Office leave application</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="rajinama_patra">
                                <div class="letter-header">
                                    <span class="letter-title">‡§∞‡§æ‡§ú‡•Ä‡§®‡§æ‡§Æ‡§æ ‡§™‡§§‡•ç‡§∞ (Resignation Letter)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Resignation from job</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="padonnati_nibedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§™‡§¶‡•ã‡§®‡•ç‡§®‡§§‡§ø ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Promotion Request)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Request for job promotion</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="talab_bridhi_nibedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§§‡§≤‡§¨ ‡§µ‡•É‡§¶‡•ç‡§ß‡§ø ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Salary Increment Request)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Request for salary increase</div>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Banking & Financial Letters -->
                <div>
                    <h3 data-translate="Banking & Financial Letters">Banking & Financial Letters</h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 15px;">Bank and financial service letters</p>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="khata_kholne">
                                <div class="letter-header">
                                    <span class="letter-title">‡§ñ‡§æ‡§§‡§æ ‡§ñ‡•ã‡§≤‡•ç‡§®‡•á ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Bank Account Opening)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Bank account opening request</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="rin_avedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§ã‡§£ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡§§‡•ç‡§∞ (Loan Application)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Bank loan application</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="khata_banda_garne">
                                <div class="letter-header">
                                    <span class="letter-title">‡§ñ‡§æ‡§§‡§æ ‡§¨‡§®‡•ç‡§¶ ‡§ó‡§∞‡•ç‡§®‡•á ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Account Closure)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Bank account closure request</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="atm_haraeko">
                                <div class="letter-header">
                                    <span class="letter-title">‡§è‡§ü‡§ø‡§è‡§Æ ‡§π‡§∞‡§æ‡§è‡§ï‡•ã ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Lost ATM Request)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Lost ATM card report</div>
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Foreign / Embassy / Passport Letters -->
                <div>
                    <h3 data-translate="Foreign / Embassy / Passport Letters">Foreign / Embassy / Passport Letters</h3>
                    <p style="font-size: 14px; color: #666; margin-bottom: 15px;">International and passport related letters</p>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="rahdani_avedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§∞‡§æ‡§π‡§¶‡§æ‡§®‡•Ä ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡§§‡•ç‡§∞ (Passport Application)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Passport application letter</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="visa_avedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§≠‡§ø‡§∏‡§æ ‡§Ü‡§µ‡•á‡§¶‡§® ‡§™‡§§‡•ç‡§∞ (Visa Application)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Visa application letter</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="noc_letter">
                                <div class="letter-header">
                                    <span class="letter-title">‡§®‡•ã ‡§Ö‡§¨‡•ç‡§ú‡•á‡§ï‡•ç‡§∂‡§® ‡§≤‡•á‡§ü‡§∞ (NOC)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">No objection certificate</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-letter-type="bidesh_rojgar_nibedan">
                                <div class="letter-header">
                                    <span class="letter-title">‡§µ‡§ø‡§¶‡•á‡§∂ ‡§∞‡•ã‡§ú‡§ó‡§æ‡§∞ ‡§®‡§ø‡§µ‡•á‡§¶‡§® (Foreign Employment)</span>
                                    <div class="trust-indicators">
                                        <span class="trust-badge">üèõ Government Format</span>
                                        <span class="trust-badge">‚úî Official Structure</span>
                                    </div>
                                </div>
                                <div class="service-description">Foreign employment application</div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Tools Section -->
        <div class="section">
            <h2 data-translate="Government Form Resource Builder">Government Form Resource Builder</h2>
            <p data-translate="Professional tools to create required resources for government form applications">Professional tools to create required resources for government form applications</p>
            
            <div class="grid">
                <div>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-tool-type="passport-photo">
                                Passport Photo Maker
                                <div class="service-description">Create 35mm √ó 45mm Nepal standard photos</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-tool-type="passport-full-photo">
                                Passport Size Photo Maker (Full Photo)
                                <div class="service-description">Upload full photo and create passport size automatically</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-tool-type="photo-compressor">
                                Photo Compressor
                                <div class="service-description">Compress photos to 50KB/100KB requirements</div>
                            </a>
                        </li>
                    </ul>
                </div>
                <div>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-tool-type="signature-maker">
                                Digital Signature Maker
                                <div class="service-description">Create digital signatures for documents</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-tool-type="pdf-maker">
                                PDF Document Maker
                                <div class="service-description">Convert text to PDF format</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-tool-type="date-converter">
                                Date Converter (AD ‚Üî BS)
                                <div class="service-description">Convert English to Nepali dates</div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Checklists Section -->
        <div class="section">
            <h2 data-translate="Government Form Checklists">Government Form Checklists</h2>
            <p data-translate="Get comprehensive checklists for any Nepal government form application">Get comprehensive checklists for any Nepal government form application</p>
            
            <div class="grid">
                <div>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-checklist-type="passport">
                                Passport Application
                                <div class="service-description">Complete document checklist</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-checklist-type="citizenship">
                                Citizenship Certificate
                                <div class="service-description">Required documents list</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-checklist-type="pan">
                                PAN Card Application
                                <div class="service-description">Tax registration documents</div>
                            </a>
                        </li>
                    </ul>
                </div>
                <div>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="#" class="service-link" data-checklist-type="license">
                                Driving License
                                <div class="service-description">License application requirements</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="#" class="service-link" data-checklist-type="loksewa">
                                Loksewa Exam
                                <div class="service-description">Public service exam preparation</div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Official Portals Section -->
        <div class="section">
            <h2 data-translate="Official Government Portals">Official Government Portals</h2>
            <p data-translate="Access official Nepal government websites for final submission">Access official Nepal government websites for final submission</p>
            
            <div class="grid">
                <div>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="https://nagarikapp.gov.np" target="_blank" class="service-link">
                                Nagarik App Portal
                                <div class="service-description">nagarikapp.gov.np</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="https://citizenportal.donidcr.gov.np" target="_blank" class="service-link">
                                Citizen Portal
                                <div class="service-description">citizenportal.donidcr.gov.np</div>
                            </a>
                        </li>
                    </ul>
                </div>
                <div>
                    <ul class="service-list">
                        <li class="service-item">
                            <a href="https://psc.gov.np" target="_blank" class="service-link">
                                Public Service Commission
                                <div class="service-description">psc.gov.np</div>
                            </a>
                        </li>
                        <li class="service-item">
                            <a href="https://www.immigration.gov.np" target="_blank" class="service-link">
                                Immigration Department
                                <div class="service-description">immigration.gov.np</div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </main>

    <!-- Mobile Sticky Create Letter Button -->
    <div class="mobile-sticky-btn">
        <button class="sticky-create-btn" onclick="app.showAllLetterCategories()">
            <span data-translate="Browse All Letters">Browse All Letters</span>
            üìã
        </button>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-links">
            <a href="#" onclick="app.showHelp()">Help Guide</a>
            <a href="#">Privacy Policy</a>
            <a href="#">Terms of Use</a>
        </div>
        <p>¬© 2024 Nepal Letter Helper. Built for the people of Nepal.</p>
        <p><strong>Unofficial Tool</strong> - Always verify documents with official government offices before submission.</p>
    </footer>

    <!-- Modal -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle" class="modal-title"></h2>
                <button class="modal-close" onclick="app.closeModal()">√ó</button>
            </div>
            <div id="modalBody" class="modal-body"></div>
        </div>
    </div>

    <script src="script.js"></script>
    
    <!-- PWA Service Worker Registration -->
    <script>
        // Debug: Log all PWA events
        console.log('üöÄ Nepal Letter Helper PWA Loading...');
        
        // Register Service Worker for PWA functionality
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                console.log('üì± Registering Service Worker...');
                navigator.serviceWorker.register('/nepal-letter-helper/sw.js')
                    .then((registration) => {
                        console.log('‚úÖ Service Worker registered successfully:', registration.scope);
                        
                        // Check for updates
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    // New version available
                                    showUpdateNotification();
                                }
                            });
                        });
                    })
                    .catch((error) => {
                        console.log('‚ùå Service Worker registration failed:', error);
                    });
            });
        } else {
            console.log('‚ùå Service Worker not supported');
        }
        
        // PWA Install Prompt
        let deferredPrompt;
        let installButton;
        
        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('üí° PWA install prompt available');
            e.preventDefault();
            deferredPrompt = e;
            showInstallButton();
        });
        
        // Show install button
        function showInstallButton() {
            if (!installButton) {
                installButton = document.createElement('button');
                installButton.innerHTML = 'üì± Install App / ‡§è‡§™ ‡§á‡§®‡•ç‡§∏‡•ç‡§ü‡§≤ ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç';
                installButton.className = 'btn btn-primary install-btn';
                installButton.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    left: 20px;
                    z-index: 1000;
                    padding: 12px 20px;
                    border-radius: 25px;
                    box-shadow: 0 4px 12px rgba(0, 102, 204, 0.3);
                    animation: pulse 2s infinite;
                `;
                
                installButton.addEventListener('click', installPWA);
                document.body.appendChild(installButton);
                
                // Add pulse animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes pulse {
                        0% { transform: scale(1); }
                        50% { transform: scale(1.05); }
                        100% { transform: scale(1); }
                    }
                `;
                document.head.appendChild(style);
            }
        }
        
        // Install PWA
        async function installPWA() {
            if (deferredPrompt) {
                deferredPrompt.prompt();
                const { outcome } = await deferredPrompt.userChoice;
                
                if (outcome === 'accepted') {
                    console.log('‚úÖ PWA installed successfully');
                    hideInstallButton();
                } else {
                    console.log('‚ùå PWA installation declined');
                }
                
                deferredPrompt = null;
            }
        }
        
        // Hide install button
        function hideInstallButton() {
            if (installButton) {
                installButton.remove();
                installButton = null;
            }
        }
        
        // Show update notification
        function showUpdateNotification() {
            const notification = document.createElement('div');
            notification.innerHTML = `
                <div style="position: fixed; top: 20px; right: 20px; background: #0066cc; color: white; padding: 15px 20px; border-radius: 8px; z-index: 1001; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                    <div style="margin-bottom: 10px;">üîÑ New version available!</div>
                    <div style="margin-bottom: 10px; font-size: 14px;">‡§®‡§Ø‡§æ‡§Å ‡§∏‡§Ç‡§∏‡•ç‡§ï‡§∞‡§£ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§õ!</div>
                    <button onclick="window.location.reload()" style="background: white; color: #0066cc; border: none; padding: 8px 15px; border-radius: 4px; cursor: pointer; margin-right: 10px;">Update / ‡§Ö‡§™‡§°‡•á‡§ü ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</button>
                    <button onclick="this.parentElement.parentElement.remove()" style="background: transparent; color: white; border: 1px solid white; padding: 8px 15px; border-radius: 4px; cursor: pointer;">Later / ‡§™‡§õ‡§ø</button>
                </div>
            `;
            document.body.appendChild(notification);
            
            // Auto-hide after 10 seconds
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.remove();
                }
            }, 10000);
        }
        
        // Handle app installed event
        window.addEventListener('appinstalled', (evt) => {
            console.log('‚úÖ PWA was installed successfully');
            hideInstallButton();
            
            // Show success message
            if (window.app && window.app.openModal) {
                window.app.openModal('üéâ App Installed Successfully!', `
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 60px; margin-bottom: 20px;">üì±</div>
                        <h3 style="color: #0066cc; margin-bottom: 15px;">Nepal Letter Helper Installed!</h3>
                        <p style="margin-bottom: 15px;">‡§®‡•á‡§™‡§æ‡§≤ ‡§™‡§§‡•ç‡§∞ ‡§∏‡§π‡§æ‡§Ø‡§ï ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§á‡§®‡•ç‡§∏‡•ç‡§ü‡§≤ ‡§≠‡§Ø‡•ã!</p>
                        <div style="background: #f0f8ff; padding: 15px; border-radius: 8px; margin: 20px 0;">
                            <h4 style="color: #0066cc; margin-bottom: 10px;">‚úÖ Now you can:</h4>
                            <ul style="text-align: left; margin-left: 20px;">
                                <li>Access from home screen</li>
                                <li>Work completely offline</li>
                                <li>Faster loading times</li>
                                <li>Native app experience</li>
                            </ul>
                        </div>
                        <button onclick="app.closeModal()" class="btn btn-primary">Start Using / ‡§™‡•ç‡§∞‡§Ø‡•ã‡§ó ‡§∏‡•Å‡§∞‡•Å ‡§ó‡§∞‡•ç‡§®‡•Å‡§π‡•ã‡§∏‡•ç</button>
                    </div>
                `);
            }
        });
        
        // Offline/Online status handling
        window.addEventListener('online', () => {
            console.log('üåê Back online');
            showConnectionStatus('Online', 'üåê Connected / ‡§ú‡§°‡§æ‡§® ‡§≠‡§Ø‡•ã', '#4CAF50');
        });
        
        window.addEventListener('offline', () => {
            console.log('üì± Gone offline');
            showConnectionStatus('Offline', 'üì± Offline Mode / ‡§Ö‡§´‡§≤‡§æ‡§á‡§® ‡§Æ‡•ã‡§°', '#FF9800');
        });
        
        // Show connection status
        function showConnectionStatus(status, message, color) {
            const statusDiv = document.createElement('div');
            statusDiv.innerHTML = `
                <div style="position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: ${color}; color: white; padding: 10px 20px; border-radius: 20px; z-index: 1002; font-size: 14px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);">
                    ${message}
                </div>
            `;
            document.body.appendChild(statusDiv);
            
            // Auto-hide after 3 seconds
            setTimeout(() => {
                if (statusDiv.parentElement) {
                    statusDiv.remove();
                }
            }, 3000);
        }
    </script>
</body>
</html>